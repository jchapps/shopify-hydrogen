import{r as d,T as M}from"./index.40649654.js";import{a as T}from"./bc53d4f9.js";const _=["cdn.shopify.com","cdn.shopifycdn.net","shopify-assets.shopifycdn.com","shopify-assets.shopifycdn.net"],$=["spin.dev"],L=[..._,...$],x=[352,832,1200,1920,2560];function A({src:t,width:r,height:h,crop:n,scale:c}){const u=new URL(t),e=c!=null?c:1;if(r){let i;typeof r=="string"?i=(x[0]*e).toString():i=(Number(r)*e).toString(),u.searchParams.append("width",i)}return h&&typeof h=="number"&&u.searchParams.append("height",(h*e).toString()),n&&u.searchParams.append("crop",n),u.toString()}function R(t){const r=new URL(t.src);return!L.some(n=>r.hostname.endsWith(n))||!t.width&&!t.height&&!t.crop&&!t.scale?t.src:A(t)}function D({data:t,loaderOptions:r,elementProps:h}){var c,u,e,i,f,S;let n=null;return(t==null?void 0:t.width)&&(t==null?void 0:t.height)&&(n=(t==null?void 0:t.width)/(t==null?void 0:t.height)),(r==null?void 0:r.width)||(r==null?void 0:r.height)?{width:(c=r==null?void 0:r.width)!=null?c:n&&typeof r.height=="number"?Math.round(n*r.height):null,height:(u=r==null?void 0:r.height)!=null?u:n&&typeof r.width=="number"?Math.round(n*r.width):null}:(h==null?void 0:h.width)||(h==null?void 0:h.height)?{width:(e=h==null?void 0:h.width)!=null?e:n&&typeof h.height=="number"?Math.round(n*h.height):null,height:(i=h==null?void 0:h.height)!=null?i:n&&typeof h.width=="number"?Math.round(n*h.width):null}:(t==null?void 0:t.width)||(t==null?void 0:t.height)?{width:(f=t==null?void 0:t.width)!=null?f:null,height:(S=t==null?void 0:t.height)!=null?S:null}:{width:null,height:null}}function G(t){if(!t.data&&!t.src)throw new Error("<Image/>: requires either a 'data' or 'src' prop.");return t.data?d.exports.createElement(U,{...t}):d.exports.createElement(W,{...t})}function U({data:t,width:r,height:h,loading:n,loader:c=R,loaderOptions:u,widths:e,decoding:i="async",...f}){var C,N,b,E,g;if(!t.url)throw new Error("<Image/>: the 'data' prop requires the 'url' property");const{width:S,height:w}=D({data:t,loaderOptions:u,elementProps:{width:r,height:h}});let y=t.url;if(c&&(y=c({...u,src:t.url,width:S,height:w}),typeof y!="string"||!y))throw new Error(`<Image/>: 'loader' did not return a valid string. ${`Image: ${(C=t.id)!=null?C:t.url}`}`);const o=r&&S&&r<S?r:S,v=(N=f.srcSet)!=null?N:q({...u,widths:e,src:t.url,width:o,height:w,loader:c});return d.exports.createElement("img",{id:(b=t.id)!=null?b:"",alt:(g=(E=t.altText)!=null?E:f.alt)!=null?g:"",loading:n!=null?n:"lazy",...f,src:y,width:S!=null?S:void 0,height:w!=null?w:void 0,srcSet:v,decoding:i})}function W({src:t,width:r,height:h,alt:n,loader:c,loaderOptions:u,widths:e,loading:i,decoding:f="async",...S}){var o,v,C,N;if(!r||!h)throw new Error(`<Image/>: when 'src' is provided, 'width' and 'height' are required and need to be valid values (i.e. greater than zero). Provided values: 'src': ${t}, 'width': ${r}, 'height': ${h}`);if(e&&Array.isArray(e)&&e.some(b=>isNaN(b)))throw new Error("<Image/>: the 'widths' property must be an array of numbers");let w=t;if(c&&(w=c({src:t,width:r,height:h,...u}),typeof w!="string"||!w))throw new Error("<Image/>: 'loader' did not return a valid string");let y=(o=S.srcSet)!=null?o:void 0;if(!y&&c&&e){const b=parseInt(h.toString())/parseInt(r.toString());y=(v=e==null?void 0:e.map(E=>parseInt(E,10)))==null?void 0:v.map(E=>`${c({...u,src:t,width:E,height:Math.floor(E*b)})} ${E}w`).join(", ")}return d.exports.createElement("img",{...S,src:w,width:(C=u==null?void 0:u.width)!=null?C:r,height:(N=u==null?void 0:u.height)!=null?N:h,alt:n!=null?n:"",loading:i!=null?i:"lazy",srcSet:y,decoding:f})}function q({src:t,width:r,crop:h,scale:n,widths:c,loader:u,height:e}){const i=c&&Array.isArray(c);if(i&&c.some(y=>isNaN(y)))throw new Error("<Image/>: the 'widths' must be an array of numbers");let f=1;r&&e&&(f=Number(e)/Number(r));let S=i?c:x;!i&&r&&r<x[x.length-1]&&(S=x.filter(y=>y<=r));const w=u||A;return S.map(y=>`${w({src:t,width:y,height:h?Number(y)*f:void 0,crop:h,scale:n})} ${y}w`).join(", ")}function H(){const t=M.useContext(T);if(!t)throw new Error("Expected a Cart Context, but no Cart Context was found");return t}export{G as I,R as s,H as u};
//# sourceMappingURL=13abd64f.js.map
