{"version":3,"file":"9ac8eb53.js","sources":["../../../node_modules/@shopify/hydrogen/dist/esnext/utilities/load_script.js","../../../node_modules/@shopify/hydrogen/dist/esnext/hooks/useLoadScript/useLoadScript.client.js","../../../node_modules/@shopify/hydrogen/dist/esnext/components/ModelViewer/ModelViewer.client.js"],"sourcesContent":["const SCRIPTS_LOADED = {};\nexport function loadScript(src, options) {\n    const isScriptLoaded = SCRIPTS_LOADED[src];\n    if (isScriptLoaded) {\n        return isScriptLoaded;\n    }\n    const promise = new Promise((resolve, reject) => {\n        const script = document.createElement('script');\n        if (options?.module) {\n            script.type = 'module';\n        }\n        script.src = src;\n        script.onload = () => {\n            resolve(true);\n        };\n        script.onerror = () => {\n            reject(false);\n        };\n        if (options?.in === 'head') {\n            document.head.appendChild(script);\n        }\n        else {\n            document.body.appendChild(script);\n        }\n    });\n    SCRIPTS_LOADED[src] = promise;\n    return promise;\n}\n","import { loadScript } from '../../utilities/load_script.js';\nimport { useState, useEffect } from 'react';\n/**\n * The `useLoadScript` hook loads an external script tag on the client-side.\n */\nexport function useLoadScript(url, options) {\n    const [status, setStatus] = useState('loading');\n    const stringifiedOptions = JSON.stringify(options);\n    useEffect(() => {\n        async function loadScriptWrapper() {\n            try {\n                setStatus('loading');\n                await loadScript(url, options);\n                setStatus('done');\n            }\n            catch (error) {\n                setStatus('error');\n            }\n        }\n        loadScriptWrapper();\n    }, [url, stringifiedOptions, options]);\n    return status;\n}\n","import React, { useState, useEffect, useCallback, } from 'react';\nimport { useLoadScript } from '../../hooks/useLoadScript/useLoadScript.client.js';\n/**\n * The `ModelViewer` component renders a 3D model (with the `model-viewer` tag) for\n * the Storefront API's [Model3d object](https://shopify.dev/api/storefront/reference/products/model3d).\n */\nexport function ModelViewer(props) {\n    const [modelViewer, setModelViewer] = useState(undefined);\n    const callbackRef = useCallback((node) => {\n        setModelViewer(node);\n    }, []);\n    const { data, id = data.id, children, className, ...passthroughProps } = props;\n    const modelViewerLoadedStatus = useLoadScript('https://unpkg.com/@google/model-viewer@v1.8.0/dist/model-viewer.min.js', {\n        module: true,\n    });\n    useEffect(() => {\n        if (modelViewer == null) {\n            return;\n        }\n        if (passthroughProps.onError)\n            modelViewer.addEventListener('error', passthroughProps.onError);\n        if (passthroughProps.onLoad)\n            modelViewer.addEventListener('load', passthroughProps.onLoad);\n        if (passthroughProps.onPreload)\n            modelViewer.addEventListener('preload', passthroughProps.onPreload);\n        if (passthroughProps.onModelVisibility)\n            modelViewer.addEventListener('model-visibility', passthroughProps.onModelVisibility);\n        if (passthroughProps.onProgress)\n            modelViewer.addEventListener('progress', passthroughProps.onProgress);\n        if (passthroughProps.onArStatus)\n            modelViewer.addEventListener('ar-status', passthroughProps.onArStatus);\n        if (passthroughProps.onArTracking)\n            modelViewer.addEventListener('ar-tracking', passthroughProps.onArTracking);\n        if (passthroughProps.onQuickLookButtonTapped)\n            modelViewer.addEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n        if (passthroughProps.onCameraChange)\n            modelViewer.addEventListener('camera-change', passthroughProps.onCameraChange);\n        if (passthroughProps.onEnvironmentChange)\n            modelViewer.addEventListener('environment-change', passthroughProps.onEnvironmentChange);\n        if (passthroughProps.onPlay)\n            modelViewer.addEventListener('play', passthroughProps.onPlay);\n        if (passthroughProps.onPause)\n            modelViewer.addEventListener('ar-status', passthroughProps.onPause);\n        if (passthroughProps.onSceneGraphReady)\n            modelViewer.addEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        return () => {\n            if (modelViewer == null) {\n                return;\n            }\n            if (passthroughProps.onError)\n                modelViewer.removeEventListener('error', passthroughProps.onError);\n            if (passthroughProps.onLoad)\n                modelViewer.removeEventListener('load', passthroughProps.onLoad);\n            if (passthroughProps.onPreload)\n                modelViewer.removeEventListener('preload', passthroughProps.onPreload);\n            if (passthroughProps.onModelVisibility)\n                modelViewer.removeEventListener('model-visibility', passthroughProps.onModelVisibility);\n            if (passthroughProps.onProgress)\n                modelViewer.removeEventListener('progress', passthroughProps.onProgress);\n            if (passthroughProps.onArStatus)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onArStatus);\n            if (passthroughProps.onArTracking)\n                modelViewer.removeEventListener('ar-tracking', passthroughProps.onArTracking);\n            if (passthroughProps.onQuickLookButtonTapped)\n                modelViewer.removeEventListener('quick-look-button-tapped', passthroughProps.onQuickLookButtonTapped);\n            if (passthroughProps.onCameraChange)\n                modelViewer.removeEventListener('camera-change', passthroughProps.onCameraChange);\n            if (passthroughProps.onEnvironmentChange)\n                modelViewer.removeEventListener('environment-change', passthroughProps.onEnvironmentChange);\n            if (passthroughProps.onPlay)\n                modelViewer.removeEventListener('play', passthroughProps.onPlay);\n            if (passthroughProps.onPause)\n                modelViewer.removeEventListener('ar-status', passthroughProps.onPause);\n            if (passthroughProps.onSceneGraphReady)\n                modelViewer.removeEventListener('scene-graph-ready', passthroughProps.onSceneGraphReady);\n        };\n    }, [\n        modelViewer,\n        passthroughProps.onArStatus,\n        passthroughProps.onArTracking,\n        passthroughProps.onCameraChange,\n        passthroughProps.onEnvironmentChange,\n        passthroughProps.onError,\n        passthroughProps.onLoad,\n        passthroughProps.onModelVisibility,\n        passthroughProps.onPause,\n        passthroughProps.onPlay,\n        passthroughProps.onPreload,\n        passthroughProps.onProgress,\n        passthroughProps.onQuickLookButtonTapped,\n        passthroughProps.onSceneGraphReady,\n    ]);\n    if (modelViewerLoadedStatus !== 'done') {\n        // TODO: What do we want to display while the model-viewer library loads?\n        return null;\n    }\n    if (!data.sources?.[0]?.url) {\n        throw new Error(`<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it`);\n    }\n    if (!data.alt) {\n        console.warn(`<ModelViewer/> requires the 'data.alt' prop for accessibility`);\n    }\n    return (React.createElement(\"model-viewer\", { ref: callbackRef, ...passthroughProps, class: className, id: id, src: data.sources[0].url, alt: data.alt, \"camera-controls\": passthroughProps.cameraControls ?? true, poster: passthroughProps.poster || data.previewImage?.url, autoplay: passthroughProps.autoplay ?? true, loading: passthroughProps.loading, reveal: passthroughProps.reveal, ar: passthroughProps.ar, \"ar-modes\": passthroughProps.arModes, \"ar-scale\": passthroughProps.arScale, \"ar-placement\": passthroughProps.arPlacement, \"ios-src\": passthroughProps.iosSrc, \"touch-action\": passthroughProps.touchAction, \"disable-zoom\": passthroughProps.disableZoom, \"orbit-sensitivity\": passthroughProps.orbitSensitivity, \"auto-rotate\": passthroughProps.autoRotate, \"auto-rotate-delay\": passthroughProps.autoRotateDelay, \"rotation-per-second\": passthroughProps.rotationPerSecond, \"interaction-policy\": passthroughProps.interactionPolicy, \"interaction-prompt\": passthroughProps.interactionPrompt, \"interaction-prompt-style\": passthroughProps.interactionPromptStyle, \"interaction-prompt-threshold\": passthroughProps.interactionPromptThreshold, \"camera-orbit\": passthroughProps.cameraOrbit, \"camera-target\": passthroughProps.cameraTarget, \"field-of-view\": passthroughProps.fieldOfView, \"max-camera-orbit\": passthroughProps.maxCameraOrbit, \"min-camera-orbit\": passthroughProps.minCameraOrbit, \"max-field-of-view\": passthroughProps.maxFieldOfView, \"min-field-of-view\": passthroughProps.minFieldOfView, bounds: passthroughProps.bounds, \"interpolation-decay\": passthroughProps.interpolationDecay ?? 100, \"skybox-image\": passthroughProps.skyboxImage, \"environment-image\": passthroughProps.environmentImage, exposure: passthroughProps.exposure, \"shadow-intensity\": passthroughProps.shadowIntensity ?? 0, \"shadow-softness\": passthroughProps.shadowSoftness ?? 0, \"animation-name\": passthroughProps.animationName, \"animation-crossfade-duration\": passthroughProps.animationCrossfadeDuration, \"variant-name\": passthroughProps.variantName, orientation: passthroughProps.orientation, scale: passthroughProps.scale }, children));\n}\n"],"names":["SCRIPTS_LOADED","loadScript","src","options","isScriptLoaded","promise","resolve","reject","script","useLoadScript","url","status","setStatus","useState","stringifiedOptions","useEffect","loadScriptWrapper","ModelViewer","props","modelViewer","setModelViewer","undefined","callbackRef","useCallback","node","data","id","children","className","passthroughProps","modelViewerLoadedStatus","module","onError","addEventListener","onLoad","onPreload","onModelVisibility","onProgress","onArStatus","onArTracking","onQuickLookButtonTapped","onCameraChange","onEnvironmentChange","onPlay","onPause","onSceneGraphReady","removeEventListener","sources","Error","alt","console","warn","_jsx","cameraControls","poster","previewImage","autoplay","loading","reveal","ar","arModes","arScale","arPlacement","iosSrc","touchAction","disableZoom","orbitSensitivity","autoRotate","autoRotateDelay","rotationPerSecond","interactionPolicy","interactionPrompt","interactionPromptStyle","interactionPromptThreshold","cameraOrbit","cameraTarget","fieldOfView","maxCameraOrbit","minCameraOrbit","maxFieldOfView","minFieldOfView","bounds","interpolationDecay","skyboxImage","environmentImage","exposure","shadowIntensity","shadowSoftness","animationName","animationCrossfadeDuration","variantName","orientation","scale"],"mappings":"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"}