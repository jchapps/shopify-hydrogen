import{a as w,p as h}from"/build/_shared/chunk-2XIQZIKO.js";import{c as f}from"/build/_shared/chunk-MEPKJ2VW.js";var U=f(h(),1),y=f(w(),1);var P="2023-01";function R(r,t,n){return{"content-type":r==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":t,"X-Shopify-Storefront-Access-Token":n}}var j=(0,y.createContext)({storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:P,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}});function O({children:r,...t}){if(!t.countryIsoCode||!t.languageIsoCode||!t.storeDomain||!t.storefrontToken||!t.storefrontApiVersion)throw new Error("Please provide the necessary props to '<ShopifyProvider/>'");t.storefrontApiVersion!==P&&console.warn(`<ShopifyProvider/>: This version of Hydrogen React is built for Shopify's Storefront API version ${P}, but it looks like you're using version ${t.storefrontApiVersion}. There may be issues or bugs if you use a mismatched version of Hydrogen React and the Storefront API.`);let n=(0,y.useMemo)(()=>{function i(o){return o?.storeDomain??t.storeDomain}return{...t,getPublicTokenHeaders(o){return R(o.contentType,t.storefrontApiVersion,o.storefrontToken??t.storefrontToken)},getShopifyDomain:i,getStorefrontApiUrl(o){let s=i({storeDomain:o?.storeDomain??t.storeDomain});return`${s}${s.endsWith("/")?"":"/"}api/${o?.storefrontApiVersion??t.storefrontApiVersion}/graphql.json`}}},[t]);return(0,U.jsx)(j.Provider,{value:n,children:r})}function E(){let r=(0,y.useContext)(j);if(!r)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return r}var C=f(h(),1);var b=f(w(),1);function N(r){let{countryIsoCode:t,languageIsoCode:n}=E(),i=`${n}-${t}`;if(!i)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");let o=parseFloat(r.amount),s=(0,b.useMemo)(()=>({style:"currency",currency:r.currencyCode}),[r.currencyCode]),a=g(i,s),u=g(i,{...s,currencyDisplay:"name"}),c=g(i,{...s,currencyDisplay:"narrowSymbol"}),l=g(i,{...s,minimumFractionDigits:0,maximumFractionDigits:0}),e=g(i),d=g(i,{minimumFractionDigits:0,maximumFractionDigits:0}),p=m=>m.type==="currency",L=(0,b.useMemo)(()=>({original:()=>r,currencyCode:()=>r.currencyCode,localizedString:()=>a().format(o),parts:()=>a().formatToParts(o),withoutTrailingZeros:()=>o%1===0?l().format(o):a().format(o),withoutTrailingZerosAndCurrency:()=>o%1===0?d().format(o):e().format(o),currencyName:()=>{var m;return((m=u().formatToParts(o).find(p))==null?void 0:m.value)??r.currencyCode},currencySymbol:()=>{var m;return((m=a().formatToParts(o).find(p))==null?void 0:m.value)??r.currencyCode},currencyNarrowSymbol:()=>{var m;return((m=c().formatToParts(o).find(p))==null?void 0:m.value)??""},amount:()=>a().formatToParts(o).filter(m=>["decimal","fraction","group","integer","literal"].includes(m.type)).map(m=>m.value).join("")}),[r,o,u,a,c,e,l,d]);return(0,b.useMemo)(()=>new Proxy(L,{get:(m,K)=>{var _;return(_=Reflect.get(m,K))==null?void 0:_.call(null)}}),[L])}function g(r,t){return(0,b.useMemo)(()=>{let n;return()=>n??(n=new Intl.NumberFormat(r,t))},[r,t])}function Y({data:r,as:t,withoutCurrency:n,withoutTrailingZeros:i,measurement:o,measurementSeparator:s="/",...a}){if(!Q(r))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");let u=N(r),c=t??"div",l=u.localizedString;return(n||i)&&(n&&!i?l=u.amount:!n&&i?l=u.withoutTrailingZeros:l=u.withoutTrailingZerosAndCurrency),(0,C.jsxs)(c,{...a,children:[l,o&&o.referenceUnit&&(0,C.jsxs)(C.Fragment,{children:[s,o.referenceUnit]})]})}function Q(r){return typeof r.amount=="string"&&!!r.amount&&typeof r.currencyCode=="string"&&!!r.currencyCode}var $=f(h(),1);var J=["cdn.shopify.com","cdn.shopifycdn.net","shopify-assets.shopifycdn.com","shopify-assets.shopifycdn.net"],ee=["spin.dev"],re=[...J,...ee],v=[352,832,1200,1920,2560];function M({src:r,width:t,height:n,crop:i,scale:o}){let s=new URL(r),a=o??1;if(t){let u;typeof t=="string"?u=(v[0]*a).toString():u=(Number(t)*a).toString(),s.searchParams.append("width",u)}return n&&typeof n=="number"&&s.searchParams.append("height",(n*a).toString()),i&&s.searchParams.append("crop",i),s.toString()}function k(r){let t=new URL(r.src);return!re.some(i=>t.hostname.endsWith(i))||!r.width&&!r.height&&!r.crop&&!r.scale?r.src:M(r)}function F({data:r,loaderOptions:t,elementProps:n}){let i=null;return r?.width&&r?.height&&(i=r?.width/r?.height),t?.width||t?.height?{width:t?.width??(i&&typeof t.height=="number"?Math.round(i*t.height):null),height:t?.height??(i&&typeof t.width=="number"?Math.round(i*t.width):null)}:n?.width||n?.height?{width:n?.width??(i&&typeof n.height=="number"?Math.round(i*n.height):null),height:n?.height??(i&&typeof n.width=="number"?Math.round(i*n.width):null)}:r?.width||r?.height?{width:r?.width??null,height:r?.height??null}:{width:null,height:null}}function A({data:r,width:t,height:n,loading:i,loader:o=k,loaderOptions:s,widths:a,decoding:u="async",...c}){if(!r.url){let m=`<Image/>: the 'data' prop requires the 'url' property. Image: ${r.id??"no ID provided"}`;return console.error(m),null}let{width:l,height:e}=F({data:r,loaderOptions:s,elementProps:{width:t,height:n}}),d=r.url;if(o&&(d=o({...s,src:r.url,width:l,height:e}),typeof d!="string"||!d))throw new Error(`<Image/>: 'loader' did not return a valid string. Image: ${r.id??r.url}`);let p=t&&l&&t<l?t:l,L=c.srcSet??te({...s,widths:a,src:r.url,width:p,height:e,loader:o});return(0,$.jsx)("img",{id:r.id??"",alt:r.altText??c.alt??"",loading:i??"lazy",...c,src:d,width:l??void 0,height:e??void 0,srcSet:L,decoding:u})}function te({src:r,width:t,crop:n,scale:i,widths:o,loader:s,height:a}){let u=o&&Array.isArray(o);if(u&&o.some(d=>isNaN(d)))throw new Error(`<Image/>: the 'widths' must be an array of numbers. Image: ${r}`);let c=1;t&&a&&(c=Number(a)/Number(t));let l=u?o:v;!u&&t&&t<v[v.length-1]&&(l=v.filter(d=>d<=t));let e=s||M;return l.map(d=>`${e({src:r,width:d,height:n?Number(d)*c:void 0,crop:n,scale:i})} ${d}w`).join(", ")}var T=f(h(),1);var B=f(h(),1),H=f(w(),1);function q(r){var t;let{data:n,previewImageOptions:i,id:o=n.id,playsInline:s=!0,controls:a=!0,sourceProps:u={},...c}=r,l=k({src:((t=n.previewImage)==null?void 0:t.url)??"",...i});if(!n.sources)throw new Error("<Video/> requires a 'data.sources' array");return(0,B.jsx)("video",{...c,id:o,playsInline:s,controls:a,poster:l,children:n.sources.map(e=>{if(!(e?.url&&e?.mimeType))throw new Error("<Video/> needs 'source.url' and 'source.mimeType'");return(0,H.createElement)("source",{...u,key:e.url,src:e.url,type:e.mimeType})})})}var z=f(h(),1);function G(r){let{data:t,options:n,id:i=t.id,frameBorder:o="0",allow:s="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:a=!0,loading:u="lazy",...c}=r;if(!t.embedUrl)throw new Error("<ExternalVideo/> requires the 'embedUrl' property");let l=t.embedUrl;if(n){let e=new URL(t.embedUrl);for(let d of Object.keys(n))e.searchParams.set(d,n[d]);l=e.toString()}return(0,z.jsx)("iframe",{...c,id:i??t.embedUrl,title:t.alt??t.id??"external video",frameBorder:o,allow:s,allowFullScreen:a,src:l,loading:u})}var X=f(h(),1),S=f(w(),1);var x=f(w(),1),W={};function oe(r,t){let n=W[r];if(n)return n;let i=new Promise((o,s)=>{let a=document.createElement("script");t?.module?a.type="module":a.type="text/javascript",a.src=r,a.onload=()=>{o(!0)},a.onerror=()=>{s(!1)},t?.in==="head"?document.head.appendChild(a):document.body.appendChild(a)});return W[r]=i,i}function I(r,t){let[n,i]=(0,x.useState)("loading"),o=JSON.stringify(t);return(0,x.useEffect)(()=>{async function s(){try{i("loading"),await oe(r,t),i("done")}catch{i("error")}}s()},[r,o,t]),n}function Z(r){var t,n,i;let[o,s]=(0,S.useState)(void 0),a=(0,S.useCallback)(p=>{s(p)},[]),{data:u,children:c,className:l,...e}=r,d=I("https://unpkg.com/@google/model-viewer@v1.12.1/dist/model-viewer.min.js",{module:!0});return(0,S.useEffect)(()=>{if(!!o)return e.onError&&o.addEventListener("error",e.onError),e.onLoad&&o.addEventListener("load",e.onLoad),e.onPreload&&o.addEventListener("preload",e.onPreload),e.onModelVisibility&&o.addEventListener("model-visibility",e.onModelVisibility),e.onProgress&&o.addEventListener("progress",e.onProgress),e.onArStatus&&o.addEventListener("ar-status",e.onArStatus),e.onArTracking&&o.addEventListener("ar-tracking",e.onArTracking),e.onQuickLookButtonTapped&&o.addEventListener("quick-look-button-tapped",e.onQuickLookButtonTapped),e.onCameraChange&&o.addEventListener("camera-change",e.onCameraChange),e.onEnvironmentChange&&o.addEventListener("environment-change",e.onEnvironmentChange),e.onPlay&&o.addEventListener("play",e.onPlay),e.onPause&&o.addEventListener("ar-status",e.onPause),e.onSceneGraphReady&&o.addEventListener("scene-graph-ready",e.onSceneGraphReady),()=>{o!=null&&(e.onError&&o.removeEventListener("error",e.onError),e.onLoad&&o.removeEventListener("load",e.onLoad),e.onPreload&&o.removeEventListener("preload",e.onPreload),e.onModelVisibility&&o.removeEventListener("model-visibility",e.onModelVisibility),e.onProgress&&o.removeEventListener("progress",e.onProgress),e.onArStatus&&o.removeEventListener("ar-status",e.onArStatus),e.onArTracking&&o.removeEventListener("ar-tracking",e.onArTracking),e.onQuickLookButtonTapped&&o.removeEventListener("quick-look-button-tapped",e.onQuickLookButtonTapped),e.onCameraChange&&o.removeEventListener("camera-change",e.onCameraChange),e.onEnvironmentChange&&o.removeEventListener("environment-change",e.onEnvironmentChange),e.onPlay&&o.removeEventListener("play",e.onPlay),e.onPause&&o.removeEventListener("ar-status",e.onPause),e.onSceneGraphReady&&o.removeEventListener("scene-graph-ready",e.onSceneGraphReady))}},[o,e.onArStatus,e.onArTracking,e.onCameraChange,e.onEnvironmentChange,e.onError,e.onLoad,e.onModelVisibility,e.onPause,e.onPlay,e.onPreload,e.onProgress,e.onQuickLookButtonTapped,e.onSceneGraphReady]),d!=="done"?null:(n=(t=u.sources)==null?void 0:t[0])!=null&&n.url?(0,X.jsx)("model-viewer",{ref:a,...e,className:l,id:e.id??u.id,src:u.sources[0].url,alt:u.alt??null,"camera-controls":e.cameraControls??!0,poster:(e.poster||((i=u.previewImage)==null?void 0:i.url))??null,autoplay:e.autoplay??!0,loading:e.loading,reveal:e.reveal,ar:e.ar,"ar-modes":e.arModes,"ar-scale":e.arScale,"ar-placement":e.arPlacement,"ios-src":e.iosSrc,"touch-action":e.touchAction,"disable-zoom":e.disableZoom,"orbit-sensitivity":e.orbitSensitivity,"auto-rotate":e.autoRotate,"auto-rotate-delay":e.autoRotateDelay,"rotation-per-second":e.rotationPerSecond,"interaction-policy":e.interactionPolicy,"interaction-prompt":e.interactionPrompt,"interaction-prompt-style":e.interactionPromptStyle,"interaction-prompt-threshold":e.interactionPromptThreshold,"camera-orbit":e.cameraOrbit,"camera-target":e.cameraTarget,"field-of-view":e.fieldOfView,"max-camera-orbit":e.maxCameraOrbit,"min-camera-orbit":e.minCameraOrbit,"max-field-of-view":e.maxFieldOfView,"min-field-of-view":e.minFieldOfView,bounds:e.bounds,"interpolation-decay":e.interpolationDecay??100,"skybox-image":e.skyboxImage,"environment-image":e.environmentImage,exposure:e.exposure,"shadow-intensity":e.shadowIntensity??0,"shadow-softness":e.shadowSoftness??0,"animation-name":e.animationName,"animation-crossfade-duration":e.animationCrossfadeDuration,"variant-name":e.variantName,orientation:e.orientation,scale:e.scale,children:c}):(console.error("<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it. Rendering 'null'"),null)}function ne({data:r,mediaOptions:t,...n}){switch(r.__typename){case"MediaImage":return r.image?(0,T.jsx)(A,{...n,...t?.image,data:r.image}):(console.warn("<MediaFile/>: 'data.image' does not exist for __typename of 'MediaImage'; rendering 'null' by default."),null);case"Video":return(0,T.jsx)(q,{...n,...t?.video,data:r});case"ExternalVideo":return(0,T.jsx)(G,{...n,...t?.externalVideo,data:r});case"Model3d":return(0,T.jsx)(Z,{...n,...t?.modelViewer,data:r});default:return console.error("<MediaFile /> requires the '__typename' property to exist on the 'data' prop in order to render the matching sub-component for this type of media.  Rendering 'null' by default"),null}}var V=f(h(),1);function D(r){let t={id:"",resource:null};if(typeof r!="string")return t;let n=r.match(/^gid:\/\/shopify\/(\w+)\/([a-z0-9]+)/);if(!n||n.length===1)return t;let i=n[2]??null,o=n[1]??null;return{id:i,resource:o}}var ie="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function ae({variantIds:r,className:t,variantIdsAndQuantities:n,width:i}){let{storeDomain:o}=E(),s=I(ie),a=[];if(r&&n)throw new Error(ue);if(r)a=r.reduce((c,l)=>{let e=D(l).id;return e&&c.push(e),c},[]);else if(n)a=n.reduce((c,l)=>{let e=D(l?.id).id;return e&&c.push(`${e}:${l?.quantity??1}`),c},[]);else throw new Error(le);if(a.length===0)throw new Error(se);return(0,V.jsx)("div",{className:t,style:i?{"--shop-pay-button-width":i}:void 0,children:s==="done"&&(0,V.jsx)("shop-pay-button",{"store-url":o,variants:a.join(",")})})}var se='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',le='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',ue="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component";function ce(r){if(!r){let t=`flattenConnection(): needs a 'connection' to flatten, but received '${r}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in r?r.nodes:"edges"in r&&Array.isArray(r.edges)?r.edges.map(t=>{if(!t?.node)throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}export{ce as a,O as b,Y as c,A as d,ne as e,ae as f};
//# sourceMappingURL=/build/_shared/chunk-XTSUA3K3.js.map
