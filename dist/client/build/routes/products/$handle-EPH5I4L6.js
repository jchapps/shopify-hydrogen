import{c as P,e as O,f as S}from"/build/_shared/chunk-XTSUA3K3.js";import{b as f,d as v,e as w,j as x,k as y,l as b,m as N,p}from"/build/_shared/chunk-2XIQZIKO.js";import{c as m}from"/build/_shared/chunk-MEPKJ2VW.js";var s=m(p());function u({options:t,selectedVariant:a}){let{pathname:r,search:l}=f(),[n]=v(),d=b(),T=(()=>{let o=new URLSearchParams(n);if(!a)return o;for(let{name:c,value:i}of a.selectedOptions)n.has(c)||o.set(c,i);return o})(),g=d.location?new URLSearchParams(d.location.search):T;return(0,s.jsx)("div",{className:"grid gap-4 mb-6",children:t.map(o=>{if(!o.values.length)return;let c=g.get(o.name);return(0,s.jsxs)("div",{className:"flex flex-col flex-wrap mb-4 gap-y-2 last:mb-0",children:[(0,s.jsx)("h3",{className:"whitespace-pre-wrap max-w-prose font-bold text-lead min-w-[4rem]",children:o.name}),(0,s.jsx)("div",{className:"flex flex-wrap items-baseline gap-4",children:o.values.map(i=>{let h=new URLSearchParams(g),I=c===i;return h.set(o.name,i),(0,s.jsx)(w,{to:`${r}?${h.toString()}`,preventScrollReset:!0,replace:!0,className:`leading-none py-1 border-b-[1.5px] cursor-pointer transition-all duration-200 ${I?"border-gray-500":"border-neutral-50"}`,children:i},i)})})]},o.name)})})}var e=m(p());function M({variantId:t}){let[a]=x(),r=a?.data?.selectedLocale,l=N(),n=[{merchandiseId:t,quantity:1}];return(0,e.jsxs)(l.Form,{action:"/cart",method:"post",children:[(0,e.jsx)("input",{type:"hidden",name:"cartAction",value:"ADD_TO_CART"}),(0,e.jsx)("input",{type:"hidden",name:"countryCode",value:r?.country??"US"}),(0,e.jsx)("input",{type:"hidden",name:"lines",value:JSON.stringify(n)}),(0,e.jsx)("button",{className:"bg-rose-200 text-black px-6 py-3 w-full rounded-md text-center font-medium max-w-[400px]",children:"Add to Bag"})]})}function L(){let{product:t,selectedVariant:a}=y(),r=a?.availableForSale||!1;return(0,e.jsx)("section",{className:"w-full gap-4 md:gap-8 grid px-6 md:px-8 lg:px-12",children:(0,e.jsxs)("div",{className:"grid items-start gap-6 lg:gap-20 md:grid-cols-2 lg:grid-cols-3",children:[(0,e.jsx)("div",{className:"grid md:grid-flow-row  md:p-0 md:overflow-x-hidden md:grid-cols-2 md:w-full lg:col-span-2",children:(0,e.jsx)("div",{className:"md:col-span-2 snap-center card-image aspect-square md:w-full w-[80vw] shadow rounded",children:(0,e.jsx)(C,{media:t.media.nodes})})}),(0,e.jsxs)("div",{className:"md:sticky md:mx-auto max-w-xl md:max-w-[24rem] grid gap-8 p-0 md:p-6 md:px-0 top-[6rem] lg:top-[8rem] xl:top-[10rem]",children:[(0,e.jsxs)("div",{className:"grid gap-2",children:[(0,e.jsx)("h1",{className:"text-4xl font-bold leading-10 whitespace-normal",children:t.title}),(0,e.jsx)("span",{className:"max-w-prose whitespace-pre-wrap inherit text-copy opacity-50 font-medium",children:t.vendor}),(0,e.jsx)("div",{className:"prose border-t border-gray-200 pt-6 text-black text-md",dangerouslySetInnerHTML:{__html:t.descriptionHtml}})]}),(0,e.jsx)(u,{options:t.options,selectedVariant:a}),(0,e.jsx)(P,{withoutTrailingZeros:!0,data:a.price,className:"text-xl font-semibold mb-2"}),r&&(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(S,{variantIds:[a?.id],width:"400px"}),(0,e.jsx)(M,{variantId:a?.id})]})]})]})})}function C({media:t}){if(!t.length)return null;let a={MODEL_3D:"Model3d",VIDEO:"Video",IMAGE:"MediaImage",EXTERNAL_VIDEO:"ExternalVideo"};return(0,e.jsx)("div",{className:"grid gap-4 overflow-x-scroll grid-flow-col md:grid-flow-row  md:p-0 md:overflow-x-auto md:grid-cols-2 w-[90vw] md:w-full lg:col-span-2",children:t.map((r,l)=>{let n={};r.mediaContentType==="MODEL_3D"&&(n={interactionPromptThreshold:"0",ar:!0,loading:"eager",disableZoom:!0});let d={...r,__typename:a[r.mediaContentType]||a.IMAGE,image:{...r.image,altText:r.alt||"Product image"}};return(0,e.jsx)("div",{className:`${l%3===0?"md:col-span-2":"md:col-span-1"} snap-center card-image bg-white aspect-square md:w-full w-[80vw] shadow-sm rounded`,children:(0,e.jsx)(O,{tabIndex:"0",className:"w-full h-full aspect-square object-cover",data:d,options:{crop:"center"},...n})},d.image.id)})})}export{L as default};
//# sourceMappingURL=/build/routes/products/$handle-EPH5I4L6.js.map
